# Configuration Docker pour SamaConso API

# Redis Configuration
REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_DEFAULT_TTL_SECONDS=300
REDIS_MAX_CONNECTIONS=10
REDIS_HEALTH_CHECK_INTERVAL=30

# RabbitMQ Configuration
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASS=guest
RABBITMQ_VHOST=/

# Celery Configuration
CELERY_BROKER_URL=amqp://guest:guest@rabbitmq:5672/
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://postgres:s3n3l3c123@10.101.1.171:5432/samaconso

# SQL Server - Configuration réseau pour Docker
# Important: Les serveurs SQL doivent être accessibles depuis le réseau Docker
# Si vous utilisez host.docker.internal sur Windows/Mac, sinon utilisez l'IP directe
SQL_SERVER_SIC_HOST=srv-asreports
SQL_SERVER_SIC_DATABASE=SIC
SQL_SERVER_SIC_USER=stagiaireddes
SQL_SERVER_SIC_PASSWORD=Senelec123

SQL_SERVER_POSTPAID_HOST=srv-commercial
SQL_SERVER_POSTPAID_PORT=1433
SQL_SERVER_POSTPAID_DATABASE=HISTH2MC
SQL_SERVER_POSTPAID_USER=commercial_dev
SQL_SERVER_POSTPAID_PASSWORD=Senelec2023

SQL_SERVER_CUSTOMER_HOST=srv-asreports
SQL_SERVER_CUSTOMER_DATABASE=BI_ODS
SQL_SERVER_CUSTOMER_USER=stagiaireddes
SQL_SERVER_CUSTOMER_PASSWORD=Senelec123

# Firebase Configuration
FIREBASE_CREDENTIALS_PATH=/app/app/samaconso-firebase-adminsdk-fbsvc-ae9b8fc3c0.json
GOOGLE_APPLICATION_CREDENTIALS=/app/app/samaconso-firebase-adminsdk-fbsvc-ae9b8fc3c0.json

# SSL Configuration pour Firebase (résoudre les problèmes de certificats)
REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt
SSL_CERT_FILE=/etc/ssl/certs/ca-certificates.crt
CURL_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt

# API Configuration
DEBUG=false
LOG_LEVEL=info
WORKERS=1

# Security
SECRET_KEY=$3?N2LEC123
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# LDAP Configuration (si accessible depuis Docker)
LDAP_SERVER=ldaps://electricite.sn
LDAP_PORT=636
LDAP_BASE_DN=DC=electricite,DC=sn
